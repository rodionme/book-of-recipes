{% extends 'recipes/base.html' %}

{% block title %}Recipes{% endblock %}

{% block content %}
  <header class="main-header">
    <a href="/" class="logo">Book of Recipes</a>

    <div class="search-wrapper">
      <input class="search" type="text" placeholder="Input recipe name"/>
    </div>

    <div class="main-menu">
      <button class="hamburger hamburger--spring" type="button">
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>

      <ul class="menu-items-list">
        <li><a href="{% url 'recipes' %}">Recipes</a></li>
        <li><a href="{% url 'ingredients' %}">Ingredients</a></li>
        <li><a href="{% url 'cuisines' %}">Cuisines</a></li>
      </ul>
    </div>
  </header>

  <div class="divider divider-2"></div>

  <section class="content">
    <main class="main-content">
      {% if recipes %}
        <section class="table-wrapper">
          <table class="recipes-table">
            <thead>
            <tr>
              <th class="col-name">Name</th>
              <th class="col-cuisine">Cuisine</th>
              <th class="col-ingredients">Ingredients</th>
            </tr>
            </thead>

            <tbody>
            {% for recipe in recipes %}
              <tr>
                <td class="name"><a href="{% url 'recipe' recipe.id %}">{{ recipe.name }}</a></td>
                <td class="cuisine"><span>{{ recipe.cuisine }}</span></td>
                <td class="ingredients">
                  {% for ingredient in recipe.ingredients.all %}
                    <div class="ingredient">{{ ingredient.name }}</div>
                  {% endfor %}
                </td>
              </tr>
            {% endfor %}
            </tbody>
          </table>
        </section>
      {% else %}
        <p class="no-data-available">No recipes are available.</p>
      {% endif %}
    </main>

    <div class="divider divider-1"></div>

    <aside class="filters">
      <form action="" method="get">
        <h4>Cuisines</h4>

        <ul class="filter-list">
          {% for cuisine in cuisines %}
            <li><label><input type="checkbox" name="cuisine[]" value="{{ cuisine.id }}"><span>{{ cuisine.name }}</span></label></li>
          {% endfor %}
        </ul>


        <h4>Ingredients</h4>

        <ul class="filter-list">
          {% for ingredient in ingredients %}
            <li><label><input type="checkbox" name="ingredient[]" value="{{ ingredient.id }}"><span>{{ ingredient.name }}</span></label></li>
          {% endfor %}
        </ul>

        <button type="submit">Apply</button>
      </form>
    </aside>
  </section>
{% endblock %}
